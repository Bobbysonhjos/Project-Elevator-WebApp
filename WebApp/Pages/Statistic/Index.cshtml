@page
@model WebApp.Pages.Statistic.IndexModel
@{
    ViewData["Title"] = "stat";
}

<canvas class="my-4 w-100" id="stat" width="900" height="380"></canvas>
<script>

    const getStat = async () => {

        const result = await fetch('https://project-elevator-api.azurewebsites.net/api/statistic')
        const data = await result.json()

        feather.replace({ 'aria-hidden': 'true' })

        // Graphs
        var stat = document.getElementById('@ViewData["Title"]')
        // eslint-disable-next-line no-unused-vars
        var stat = new Chart(stat, {
            type: 'line',
            data: {
                labels: [
                    'Sunday',
                    'Monday',
                    'Tuesday',
                    'Wednesday',
                    'Thursday',
                    'Friday',
                    'Saturday'
                ],
                datasets: [{
                    data: data,
                    lineTension: 0,
                    backgroundColor: 'transparent',
                    borderColor: '#007bff',
                    borderWidth: 4,
                    pointBackgroundColor: '#007bff'
                }]
            },
            options: {
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero: false
                        }
                    }]
                },
                legend: {
                    display: false
                }
            }
        })
    }

    getStat()

</script>

@section Scripts
{

}

